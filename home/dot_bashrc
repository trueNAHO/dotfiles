#!/usr/bin/env bash

# `bashrc` is the individual per-interactive-shell startup file.

# @url https://unix.stackexchange.com/questions/104755/how-can-i-create-a-local-function-in-my-bashrc
# Delete functions that should not exceed this bashrc's scope.
_cleanup() {
  unset -f _cleanup
  unset -f _is_running_interactively
  unset -f _main
  unset -f _set_system_defaults
}

# Returns true if the current shell is running interactively, and false
# otherwise.
_is_running_interactively() {
  [[ $- != *i* ]]
}

# Set system defaults.
_set_system_defaults() {
  # Set default terminal.
  export TERM="alacritty"

  # Set default text editor.
  export EDITOR="nvim"
  export VISUAL="nvim"
}

_main() {
  _set_system_defaults
  _is_running_interactively && return
}

_main
_cleanup
