#!/usr/bin/env bash
# shellcheck disable=all

{{ template "lib/utilities/safe_sudo" }}
{{ template "lib/utilities/status" }}

# Download packages with pacman, if it is installed. Packages are provided as
# arguments.
dependencies_pacman() {
  # Make sure pacman is installed.
  if ! command -v pacman &>/dev/null; then
    status "pacman is not installed"
    status "skip pacman packages: $*"
    return
  fi

  # Download provided packages.
  for package in "$@"; do
    status "sudo pacman -S --needed $package"
    safe_sudo pacman -S --needed "$package" || true
  done
}
