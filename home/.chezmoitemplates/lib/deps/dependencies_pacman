#!/usr/bin/env bash
# shellcheck disable=all

{{ template "lib/utilities/safe_sudo" }}

# Download packages with pacman, if it is installed. Packages are provided as
# arguments.
dependencies_pacman() {
  # Make sure pacman is installed.
  if ! command -v pacman &>/dev/null; then 
    printf 'chezmoi: %s\n' "pacman is not installed"
    printf 'chezmoi: skip pacman packages: %s\n' "$*"
    return
  fi
  
  # Download provided packages.
  for package in "$@"; do
    printf 'chezmoi: %s\n' "sudo pacman -S --needed $package"
    check_sudo pacman -S --needed "$package" || true
  done
}

